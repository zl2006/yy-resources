/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */

define(function(e,t,n){(function(){function u(e,t){function w(e){if(w[e]!==g)return w[e];var r;if(e=="bug-string-char-index")r="a"[0]!="a";else if(e=="json")r=w("json-stringify")&&w("json-parse");else{var s,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if(e=="json-stringify"){var u=t.stringify,f=typeof u=="function"&&y;if(f){(s=function(){return 1}).toJSON=s;try{f=u(0)==="0"&&u(new n)==="0"&&u(new i)=='""'&&u(d)===g&&u(g)===g&&u()===g&&u(s)==="1"&&u([s])=="[1]"&&u([g])=="[null]"&&u(null)=="null"&&u([g,d,null])=="[null,null,null]"&&u({a:[s,true,false,null,"\0\b\n\f\r	"]})==o&&u(null,s)==="1"&&u([1,2],null,1)=="[\n 1,\n 2\n]"&&u(new a(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&u(new a(864e13))=='"+275760-09-13T00:00:00.000Z"'&&u(new a(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&u(new a(-1))=='"1969-12-31T23:59:59.999Z"'}catch(l){f=!1}}r=f}if(e=="json-parse"){var c=t.parse;if(typeof c=="function")try{if(c("0")===0&&!c(!1)){s=c(o);var h=s["a"].length==5&&s.a[0]===1;if(h){try{h=!c('"	"')}catch(l){}if(h)try{h=c("01")!==1}catch(l){}if(h)try{h=c("1.")!==1}catch(l){}}}}catch(l){h=!1}r=h}}return w[e]=!!r}e||(e=s.Object()),t||(t=s.Object());var n=e.Number||s.Number,i=e.String||s.String,o=e.Object||s.Object,a=e.Date||s.Date,f=e.SyntaxError||s.SyntaxError,l=e.TypeError||s.TypeError,c=e.Math||s.Math,h=e.JSON||s.JSON;typeof h=="object"&&h&&(t.stringify=h.stringify,t.parse=h.parse);var p=o.prototype,d=p.toString,v,m,g,y=new a(-0xc782b5b800cec);try{y=y.getUTCFullYear()==-109252&&y.getUTCMonth()===0&&y.getUTCDate()===1&&y.getUTCHours()==10&&y.getUTCMinutes()==37&&y.getUTCSeconds()==6&&y.getUTCMilliseconds()==708}catch(b){}if(!w("json")){var E="[object Function]",S="[object Date]",x="[object Number]",T="[object String]",N="[object Array]",C="[object Boolean]",k=w("bug-string-char-index");if(!y)var L=c.floor,A=[0,31,59,90,120,151,181,212,243,273,304,334],O=function(e,t){return A[t]+365*(e-1970)+L((e-1969+(t=+(t>1)))/4)-L((e-1901+t)/100)+L((e-1601+t)/400)};(v=p.hasOwnProperty)||(v=function(e){var t={},n;return(t.__proto__=null,t.__proto__={toString:1},t).toString!=d?v=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(n=t.constructor,v=function(e){var t=(this.constructor||n).prototype;return e in this&&!(e in t&&this[e]===t[e])}),t=null,v.call(this,e)}),m=function(e,t){var n=0,i,s,o;(i=function(){this.valueOf=0}).prototype.valueOf=0,s=new i;for(o in s)v.call(s,o)&&n++;return i=s=null,n?n==2?m=function(e,t){var n={},r=d.call(e)==E,i;for(i in e)(!r||i!="prototype")&&!v.call(n,i)&&(n[i]=1)&&v.call(e,i)&&t(i)}:m=function(e,t){var n=d.call(e)==E,r,i;for(r in e)(!n||r!="prototype")&&v.call(e,r)&&!(i=r==="constructor")&&t(r);(i||v.call(e,r="constructor"))&&t(r)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,t){var n=d.call(e)==E,i,o,u=!n&&typeof e.constructor!="function"&&r[typeof e.hasOwnProperty]&&e.hasOwnProperty||v;for(i in e)(!n||i!="prototype")&&u.call(e,i)&&t(i);for(o=s.length;i=s[--o];u.call(e,i)&&t(i));}),m(e,t)};if(!w("json-stringify")){var M={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},_="000000",D=function(e,t){return(_+(t||0)).slice(-e)},P="\\u00",H=function(e){var t='"',n=0,r=e.length,i=!k||r>10,s=i&&(k?e.split(""):e);for(;n<r;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=M[o];break;default:if(o<32){t+=P+D(2,o.toString(16));break}t+=i?s[n]:e.charAt(n)}}return t+'"'},B=function(e,t,n,r,i,s,o){var u,a,f,c,h,p,y,b,w,E,k,A,M,_,P,j;try{u=t[e]}catch(F){}if(typeof u=="object"&&u){a=d.call(u);if(a==S&&!v.call(u,"toJSON"))if(u>-1/0&&u<1/0){if(O){h=L(u/864e5);for(f=L(h/365.2425)+1970-1;O(f+1,0)<=h;f++);for(c=L((h-O(f,0))/30.42);O(f,c+1)<=h;c++);h=1+h-O(f,c),p=(u%864e5+864e5)%864e5,y=L(p/36e5)%24,b=L(p/6e4)%60,w=L(p/1e3)%60,E=p%1e3}else f=u.getUTCFullYear(),c=u.getUTCMonth(),h=u.getUTCDate(),y=u.getUTCHours(),b=u.getUTCMinutes(),w=u.getUTCSeconds(),E=u.getUTCMilliseconds();u=(f<=0||f>=1e4?(f<0?"-":"+")+D(6,f<0?-f:f):D(4,f))+"-"+D(2,c+1)+"-"+D(2,h)+"T"+D(2,y)+":"+D(2,b)+":"+D(2,w)+"."+D(3,E)+"Z"}else u=null;else typeof u.toJSON=="function"&&(a!=x&&a!=T&&a!=N||v.call(u,"toJSON"))&&(u=u.toJSON(e))}n&&(u=n.call(t,e,u));if(u===null)return"null";a=d.call(u);if(a==C)return""+u;if(a==x)return u>-1/0&&u<1/0?""+u:"null";if(a==T)return H(""+u);if(typeof u=="object"){for(_=o.length;_--;)if(o[_]===u)throw l();o.push(u),k=[],P=s,s+=i;if(a==N){for(M=0,_=u.length;M<_;M++)A=B(M,u,n,r,i,s,o),k.push(A===g?"null":A);j=k.length?i?"[\n"+s+k.join(",\n"+s)+"\n"+P+"]":"["+k.join(",")+"]":"[]"}else m(r||u,function(e){var t=B(e,u,n,r,i,s,o);t!==g&&k.push(H(e)+":"+(i?" ":"")+t)}),j=k.length?i?"{\n"+s+k.join(",\n"+s)+"\n"+P+"}":"{"+k.join(",")+"}":"{}";return o.pop(),j}};t.stringify=function(e,t,n){var i,s,o,u;if(r[typeof t]&&t)if((u=d.call(t))==E)s=t;else if(u==N){o={};for(var a=0,f=t.length,l;a<f;l=t[a++],(u=d.call(l),u==T||u==x)&&(o[l]=1));}if(n)if((u=d.call(n))==x){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else u==T&&(i=n.length<=10?n:n.slice(0,10));return B("",(l={},l[""]=e,l),s,o,i,"",[])}}if(!w("json-parse")){var j=i.fromCharCode,F={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},I,q,R=function(){throw I=q=null,f()},U=function(){var e=q,t=e.length,n,r,i,s,o;while(I<t){o=e.charCodeAt(I);switch(o){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:return n=k?e.charAt(I):e[I],I++,n;case 34:for(n="@",I++;I<t;){o=e.charCodeAt(I);if(o<32)R();else if(o==92){o=e.charCodeAt(++I);switch(o){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:n+=F[o],I++;break;case 117:r=++I;for(i=I+4;I<i;I++)o=e.charCodeAt(I),o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||R();n+=j("0x"+e.slice(r,I));break;default:R()}}else{if(o==34)break;o=e.charCodeAt(I),r=I;while(o>=32&&o!=92&&o!=34)o=e.charCodeAt(++I);n+=e.slice(r,I)}}if(e.charCodeAt(I)==34)return I++,n;R();default:r=I,o==45&&(s=!0,o=e.charCodeAt(++I));if(o>=48&&o<=57){o==48&&(o=e.charCodeAt(I+1),o>=48&&o<=57)&&R(),s=!1;for(;I<t&&(o=e.charCodeAt(I),o>=48&&o<=57);I++);if(e.charCodeAt(I)==46){i=++I;for(;i<t&&(o=e.charCodeAt(i),o>=48&&o<=57);i++);i==I&&R(),I=i}o=e.charCodeAt(I);if(o==101||o==69){o=e.charCodeAt(++I),(o==43||o==45)&&I++;for(i=I;i<t&&(o=e.charCodeAt(i),o>=48&&o<=57);i++);i==I&&R(),I=i}return+e.slice(r,I)}s&&R();if(e.slice(I,I+4)=="true")return I+=4,!0;if(e.slice(I,I+5)=="false")return I+=5,!1;if(e.slice(I,I+4)=="null")return I+=4,null;R()}}return"$"},z=function(e){var t,n;e=="$"&&R();if(typeof e=="string"){if((k?e.charAt(0):e[0])=="@")return e.slice(1);if(e=="["){t=[];for(;;n||(n=!0)){e=U();if(e=="]")break;n&&(e==","?(e=U(),e=="]"&&R()):R()),e==","&&R(),t.push(z(e))}return t}if(e=="{"){t={};for(;;n||(n=!0)){e=U();if(e=="}")break;n&&(e==","?(e=U(),e=="}"&&R()):R()),(e==","||typeof e!="string"||(k?e.charAt(0):e[0])!="@"||U()!=":")&&R(),t[e.slice(1)]=z(U())}return t}R()}return e},W=function(e,t,n){var r=X(e,t,n);r===g?delete e[t]:e[t]=r},X=function(e,t,n){var r=e[t],i;if(typeof r=="object"&&r)if(d.call(r)==N)for(i=r.length;i--;)W(r,i,n);else m(r,function(e){W(r,e,n)});return n.call(e,t,r)};t.parse=function(e,t){var n,r;return I=0,q=""+e,n=z(U()),U()!="$"&&R(),I=q=null,t&&d.call(t)==E?X((r={},r[""]=n,r),"",t):n}}}return t.runInContext=u,t}var e=typeof define=="function"&&define.amd,r={"function":!0,object:!0},i=r[typeof t]&&t&&!t.nodeType&&t,s=r[typeof window]&&window||this,o=i&&r[typeof n]&&n&&!n.nodeType&&typeof global=="object"&&global;o&&(o.global===o||o.window===o||o.self===o)&&(s=o);if(i&&!e)u(s,i);else{var a=s.JSON,f=s.JSON3,l=!1,c=u(s,s.JSON3={noConflict:function(){return l||(l=!0,s.JSON=a,s.JSON3=f,a=f=null),c}});s.JSON={parse:c.parse,stringify:c.stringify}}e&&define(function(){return c}),n.exports=c}).call(this)});
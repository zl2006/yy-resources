define("events",["require","exports","module"],function(e,t,n){function i(){}function o(e,t,n){var r=!0;if(e){var i=0,s=e.length,o=t[0],u=t[1],a=t[2];switch(t.length){case 0:for(;i<s;i+=2)r=e[i].call(e[i+1]||n)!==!1&&r;break;case 1:for(;i<s;i+=2)r=e[i].call(e[i+1]||n,o)!==!1&&r;break;case 2:for(;i<s;i+=2)r=e[i].call(e[i+1]||n,o,u)!==!1&&r;break;case 3:for(;i<s;i+=2)r=e[i].call(e[i+1]||n,o,u,a)!==!1&&r;break;default:for(;i<s;i+=2)r=e[i].apply(e[i+1]||n,t)!==!1&&r}}return r}function u(e){return Object.prototype.toString.call(e)==="[object Function]"}var r=/\s+/;i.prototype.on=function(e,t,n){var i,s,o;if(!t)return this;i=this.__events||(this.__events={}),e=e.split(r);while(s=e.shift())o=i[s]||(i[s]=[]),o.push(t,n);return this},i.prototype.once=function(e,t,n){var r=this,i=function(){r.off(e,i),t.apply(n||r,arguments)};return this.on(e,i,n)},i.prototype.off=function(e,t,n){var i,o,u,a;if(!(i=this.__events))return this;if(!(e||t||n))return delete this.__events,this;e=e?e.split(r):s(i);while(o=e.shift()){u=i[o];if(!u)continue;if(!t&&!n){delete i[o];continue}for(a=u.length-2;a>=0;a-=2)t&&u[a]!==t||n&&u[a+1]!==n||u.splice(a,2)}return this},i.prototype.trigger=function(e){var t,n,i,s,u,a,f=[],l,c=!0;if(!(t=this.__events))return this;e=e.split(r);for(u=1,a=arguments.length;u<a;u++)f[u-1]=arguments[u];while(n=e.shift()){if(i=t.all)i=i.slice();if(s=t[n])s=s.slice();n!=="all"&&(c=o(s,f,this)&&c),c=o(i,[n].concat(f),this)&&c}return c},i.prototype.emit=i.prototype.trigger;var s=Object.keys;s||(s=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),i.mixTo=function(e){function s(r){e[r]=function(){return t[r].apply(n,Array.prototype.slice.call(arguments)),this}}e=u(e)?e.prototype:e;var t=i.prototype,n=new i;for(var r in t)t.hasOwnProperty(r)&&s(r)},n.exports=i});
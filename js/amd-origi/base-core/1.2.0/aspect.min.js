define("aspect",["require","exports","module"],function(e,t,n){function i(e,t,n,i){var u=t.split(r),a,f;while(a=u.shift())f=s(this,a),f.__isAspected||o.call(this,a),this.on(e+":"+a,n,i);return this}function s(e,t){var n=e[t];if(!n)throw new Error("Invalid method name: "+t);return n}function o(e){var t=this[e];this[e]=function(){var n=Array.prototype.slice.call(arguments),r=["before:"+e].concat(n);if(this.trigger.apply(this,r)===!1)return;var i=t.apply(this,arguments),s=["after:"+e,i].concat(n);return this.trigger.apply(this,s),i},this[e].__isAspected=!0}t.before=function(e,t,n){return i.call(this,"before",e,t,n)},t.after=function(e,t,n){return i.call(this,"after",e,t,n)};var r=/\s+/});
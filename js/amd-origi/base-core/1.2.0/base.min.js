define("class",["require","exports","module"],function(e,t,n){function r(e){if(!(this instanceof r)&&c(e))return s(e)}function i(e){var t,n;for(t in e)n=e[t],r.Mutators.hasOwnProperty(t)?r.Mutators[t].call(this,n):this.prototype[t]=n}function s(e){return e.extend=r.extend,e.implement=i,e}function o(){}function a(e,t,n){for(var r in t)if(t.hasOwnProperty(r)){if(n&&h(n,r)===-1)continue;r!=="prototype"&&(e[r]=t[r])}}n.exports=r,r.create=function(e,t){function n(){e.apply(this,arguments),this.constructor===n&&this.initialize&&this.initialize.apply(this,arguments)}return c(e)||(t=e,e=null),t||(t={}),e||(e=t.Extends||r),t.Extends=e,e!==r&&a(n,e,e.StaticsWhiteList),i.call(n,t),s(n)},r.extend=function(e){return e||(e={}),e.Extends=this,r.create(e)},r.Mutators={Extends:function(e){var t=this.prototype,n=u(e.prototype);a(n,t),n.constructor=this,this.prototype=n,this.superclass=e.prototype},Implements:function(e){l(e)||(e=[e]);var t=this.prototype,n;while(n=e.shift())a(t,n.prototype||n)},Statics:function(e){a(this,e)}};var u=Object.__proto__?function(e){return{__proto__:e}}:function(e){return o.prototype=e,new o},f=Object.prototype.toString,l=Array.isArray||function(e){return f.call(e)==="[object Array]"},c=function(e){return f.call(e)==="[object Function]"},h=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}}),define("events",["require","exports","module"],function(e,t,n){function i(){}function o(e,t,n){var r=!0;if(e){var i=0,s=e.length,o=t[0],u=t[1],a=t[2];switch(t.length){case 0:for(;i<s;i+=2)r=e[i].call(e[i+1]||n)!==!1&&r;break;case 1:for(;i<s;i+=2)r=e[i].call(e[i+1]||n,o)!==!1&&r;break;case 2:for(;i<s;i+=2)r=e[i].call(e[i+1]||n,o,u)!==!1&&r;break;case 3:for(;i<s;i+=2)r=e[i].call(e[i+1]||n,o,u,a)!==!1&&r;break;default:for(;i<s;i+=2)r=e[i].apply(e[i+1]||n,t)!==!1&&r}}return r}function u(e){return Object.prototype.toString.call(e)==="[object Function]"}var r=/\s+/;i.prototype.on=function(e,t,n){var i,s,o;if(!t)return this;i=this.__events||(this.__events={}),e=e.split(r);while(s=e.shift())o=i[s]||(i[s]=[]),o.push(t,n);return this},i.prototype.once=function(e,t,n){var r=this,i=function(){r.off(e,i),t.apply(n||r,arguments)};return this.on(e,i,n)},i.prototype.off=function(e,t,n){var i,o,u,a;if(!(i=this.__events))return this;if(!(e||t||n))return delete this.__events,this;e=e?e.split(r):s(i);while(o=e.shift()){u=i[o];if(!u)continue;if(!t&&!n){delete i[o];continue}for(a=u.length-2;a>=0;a-=2)t&&u[a]!==t||n&&u[a+1]!==n||u.splice(a,2)}return this},i.prototype.trigger=function(e){var t,n,i,s,u,a,f=[],l,c=!0;if(!(t=this.__events))return this;e=e.split(r);for(u=1,a=arguments.length;u<a;u++)f[u-1]=arguments[u];while(n=e.shift()){if(i=t.all)i=i.slice();if(s=t[n])s=s.slice();n!=="all"&&(c=o(s,f,this)&&c),c=o(i,[n].concat(f),this)&&c}return c},i.prototype.emit=i.prototype.trigger;var s=Object.keys;s||(s=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),i.mixTo=function(e){function s(r){e[r]=function(){return t[r].apply(n,Array.prototype.slice.call(arguments)),this}}e=u(e)?e.prototype:e;var t=i.prototype,n=new i;for(var r in t)t.hasOwnProperty(r)&&s(r)},n.exports=i}),define("aspect",["require","exports","module"],function(e,t,n){function i(e,t,n,i){var u=t.split(r),a,f;while(a=u.shift())f=s(this,a),f.__isAspected||o.call(this,a),this.on(e+":"+a,n,i);return this}function s(e,t){var n=e[t];if(!n)throw new Error("Invalid method name: "+t);return n}function o(e){var t=this[e];this[e]=function(){var n=Array.prototype.slice.call(arguments),r=["before:"+e].concat(n);if(this.trigger.apply(this,r)===!1)return;var i=t.apply(this,arguments),s=["after:"+e,i].concat(n);return this.trigger.apply(this,s),i},this[e].__isAspected=!0}t.before=function(e,t,n){return i.call(this,"before",e,t,n)},t.after=function(e,t,n){return i.call(this,"after",e,t,n)};var r=/\s+/}),define("attribute",["require","exports","module"],function(e,t,n){function u(e){return r.call(e)==="[object String]"}function a(e){return r.call(e)==="[object Function]"}function f(e){return e!=null&&e==e.window}function l(e){if(!e||r.call(e)!=="[object Object]"||e.nodeType||f(e))return!1;try{if(e.constructor&&!i.call(e,"constructor")&&!i.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var n;if(s)for(n in e)return i.call(e,n);for(n in e);return n===undefined||i.call(e,n)}function c(e){if(!e||r.call(e)!=="[object Object]"||e.nodeType||f(e)||!e.hasOwnProperty)return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function h(e,t){var n,r;for(n in t)t.hasOwnProperty(n)&&(e[n]=p(t[n],e[n]));return e}function p(e,t){return o(e)?e=e.slice():l(e)&&(l(t)||(t={}),e=h(t,e)),e}function v(e,t,n){var r=[],i=t.constructor.prototype;while(i)i.hasOwnProperty("attrs")||(i.attrs={}),g(n,i.attrs,i),c(i.attrs)||r.unshift(i.attrs),i=i.constructor.superclass;for(var s=0,o=r.length;s<o;s++)C(e,T(r[s]))}function m(e,t){C(e,T(t,!0),!0)}function g(e,t,n,r){for(var i=0,s=e.length;i<s;i++){var o=e[i];n.hasOwnProperty(o)&&(t[o]=r?t.get(o):n[o])}}function w(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n].value,i;a(r)&&(i=n.match(y))&&(e[i[1]](E(i[2]),r),delete t[n])}}function E(e){var t=e.match(b),n=t[1]?"change:":"";return n+=t[2].toLowerCase()+t[3],n}function S(e,t,n){var r={silent:!0};e.__initializingAttrs=!0;for(var i in n)n.hasOwnProperty(i)&&t[i].setter&&e.set(i,n[i],r);delete e.__initializingAttrs}function T(e,t){var n={};for(var r in e){var i=e[r];if(!t&&l(i)&&k(i,x)){n[r]=i;continue}n[r]={value:i}}return n}function C(e,t,n){var r,i,s;for(r in t)if(t.hasOwnProperty(r)){i=t[r],s=e[r],s||(s=e[r]={}),i.value!==undefined&&(s.value=p(i.value,s.value));if(n)continue;for(var o in N){var u=N[o];i[u]!==undefined&&(s[u]=i[u])}}return e}function k(e,t){for(var n=0,r=t.length;n<r;n++)if(e.hasOwnProperty(t[n]))return!0;return!1}function L(e){return e==null||(u(e)||o(e))&&e.length===0||c(e)}function A(e,t){if(e===t)return!0;if(L(e)&&L(t))return!0;var n=r.call(e);if(n!=r.call(t))return!1;switch(n){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase;case"[object Array]":var i=e.toString(),s=t.toString();return i.indexOf("[object")===-1&&s.indexOf("[object")===-1&&i===s}if(typeof e!="object"||typeof t!="object")return!1;if(l(e)&&l(t)){if(!A(d(e),d(t)))return!1;for(var o in e)if(e[o]!==t[o])return!1;return!0}return!1}t.initAttrs=function(e){var t=this.attrs={},n=this.propsInAttrs||[];v(t,this,n),e&&m(t,e),S(this,t,e),w(this,t),g(n,this,t,!0)},t.get=function(e){var t=this.attrs[e]||{},n=t.value;return t.getter?t.getter.call(this,n,e):n},t.set=function(e,t,n){var r={};u(e)?r[e]=t:(r=e,n=t),n||(n={});var i=n.silent,s=n.override,o=this.attrs,a=this.__changedAttrs||(this.__changedAttrs={});for(e in r){if(!r.hasOwnProperty(e))continue;var f=o[e]||(o[e]={});t=r[e];if(f.readOnly)throw new Error("This attribute is readOnly: "+e);f.setter&&(t=f.setter.call(this,t,e));var c=this.get(e);!s&&l(c)&&l(t)&&(t=h(h({},c),t)),o[e].value=t,!this.__initializingAttrs&&!A(c,t)&&(i?a[e]=[t,c]:this.trigger("change:"+e,t,c,e))}return this},t.change=function(){var e=this.__changedAttrs;if(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];this.trigger("change:"+t,n[0],n[1],t)}delete this.__changedAttrs}return this},t._isPlainObject=l;var r=Object.prototype.toString,i=Object.prototype.hasOwnProperty,s;(function(){function t(){this.x=1}var e=[];t.prototype={valueOf:1,y:1};for(var n in new t)e.push(n);s=e[0]!=="x"})();var o=Array.isArray||function(e){return r.call(e)==="[object Array]"},d=Object.keys;d||(d=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t});var y=/^(on|before|after)([A-Z].*)$/,b=/^(Change)?([A-Z])(.*)/,x=["value","getter","setter","readOnly"],N=["setter","getter","readOnly"]}),define("base",["require","exports","module","class","events","aspect","attribute"],function(e,t,n){function u(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r="_onChange"+a(n);e[r]&&e.on("change:"+n,e[r])}}function a(e){return e.charAt(0).toUpperCase()+e.substring(1)}var r=e("class"),i=e("events"),s=e("aspect"),o=e("attribute");n.exports=r.create({Implements:[i,s,o],initialize:function(e){this.initAttrs(e),u(this,this.attrs)},destroy:function(){this.off();for(var e in this)this.hasOwnProperty(e)&&delete this[e];this.destroy=function(){}}})});